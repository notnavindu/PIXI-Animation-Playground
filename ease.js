!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("pixi.js")):"function"==typeof define&&define.amd?define(["exports","pixi.js"],e):e((t=t||self).Ease={},t.PIXI)}(this,function(t,e){"use strict";var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var i=n(function(t,e){(function(){var e;(function(e){t.exports=e})(e={linear:function(t,e,s,n){return s*t/n+e},easeInQuad:function(t,e,s,n){return s*(t/=n)*t+e},easeOutQuad:function(t,e,s,n){return-s*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,s,n){return(t/=n/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,n){return s*(t/=n)*t*t+e},easeOutCubic:function(t,e,s,n){return s*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,n){return(t/=n/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,n){return s*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,s,n){return-s*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,n){return(t/=n/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,n){return s*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,s,n){return s*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,n){return(t/=n/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,n){return-s*Math.cos(t/n*(Math.PI/2))+s+e},easeOutSine:function(t,e,s,n){return s*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,s,n){return-s/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,s,n){return 0===t?e:s*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,s,n){return t===n?e+s:s*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,s,n){return(t/=n/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,s,n){return-s*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,s,n){return s*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,s,n){return(t/=n/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,n){var i,a,r;return r=1.70158,0===t||(t/=n),(a=0)||(a=.3*n),(i=s)<Math.abs(s)?(i=s,r=a/4):r=a/(2*Math.PI)*Math.asin(s/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/a)+e},easeOutElastic:function(t,e,s,n){var i,a,r;return r=1.70158,0===t||(t/=n),(a=0)||(a=.3*n),(i=s)<Math.abs(s)?(i=s,r=a/4):r=a/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/a)+s+e},easeInOutElastic:function(t,e,s,n){var i,a,r;return r=1.70158,0===t||(t/=n/2),(a=0)||(a=n*(.3*1.5)),(i=s)<Math.abs(s)?(i=s,r=a/4):r=a/(2*Math.PI)*Math.asin(s/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/a)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/a)*.5+s+e},easeInBack:function(t,e,s,n,i){return void 0===i&&(i=1.70158),s*(t/=n)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,s,n,i){return void 0===i&&(i=1.70158),s*((t=t/n-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,s,n,i){return void 0===i&&(i=1.70158),(t/=n/2)<1?s/2*(t*t*((1+(i*=1.525))*t-i))+e:s/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,s,n,i){return n-e.easeOutBounce(i-t,0,n,i)+s},easeOutBounce:function(t,e,s,n){return(t/=n)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,s,n,i){return t<i/2?.5*e.easeInBounce(2*t,0,n,i)+s:.5*e.easeOutBounce(2*t-i,0,n,i)+.5*n+s}})}).call(s)}),a=n(function(t){var e=Object.prototype.hasOwnProperty,s="~";function n(){}function i(t,e,s){this.fn=t,this.context=e,this.once=s||!1}function a(t,e,n,a,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,a||t,r),h=s?s+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],o]:t._events[h].push(o):(t._events[h]=o,t._eventsCount++),t}function r(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(s?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t){var e=s?s+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,r=new Array(a);i<a;i++)r[i]=n[i].fn;return r},o.prototype.listenerCount=function(t){var e=s?s+t:t,n=this._events[e];return n?n.fn?1:n.length:0},o.prototype.emit=function(t,e,n,i,a,r){var o=s?s+t:t;if(!this._events[o])return!1;var h,u,c=this._events[o],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,a),!0;case 6:return c.fn.call(c.context,e,n,i,a,r),!0}for(u=1,h=new Array(l-1);u<l;u++)h[u-1]=arguments[u];c.fn.apply(c.context,h)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,i);break;default:if(!h)for(p=1,h=new Array(l-1);p<l;p++)h[p-1]=arguments[p];c[u].fn.apply(c[u].context,h)}}return!0},o.prototype.on=function(t,e,s){return a(this,t,e,s,!1)},o.prototype.once=function(t,e,s){return a(this,t,e,s,!0)},o.prototype.removeListener=function(t,e,n,i){var a=s?s+t:t;if(!this._events[a])return this;if(!e)return r(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||r(this,a);else{for(var h=0,u=[],c=o.length;h<c;h++)(o[h].fn!==e||i&&!o[h].once||n&&o[h].context!==n)&&u.push(o[h]);u.length?this._events[a]=1===u.length?u[0]:u:r(this,a)}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&r(this,e)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,t.exports=o});class r extends a{constructor(t,e){super(),this.element=t,this.ease=e,this.eases=[],this.connected=!0}clear(){this.eases=[]}addParam(t,e,s){let n,i,a,o,h=t;switch(t){case"scaleX":case"skewX":h=t.substr(0,t.length-1),i=e,a=e-(n=this.element[h].x),o=e=>this.updateCoord(e,t,h,"x");break;case"scaleY":case"skewY":h=t.substr(0,t.length-1),i=e,a=e-(n=this.element[h].y),o=e=>this.updateCoord(e,t,h,"y");break;case"tint":case"blend":const s=Array.isArray(e)?e:[this.element.tint,e];n=0,a=i=s.length,o="tint"===t?e=>this.updateTint(e,t,s):e=>this.updateBlend(e,t,s);break;case"shake":n={x:this.element.x,y:this.element.y},i=e,o=t=>this.updateShake(t);break;case"position":n={x:this.element.x,y:this.element.y},a={x:(i={x:e.x,y:e.y}).x-n.x,y:i.y-n.y},o=t=>this.updatePosition(t);break;case"skew":case"scale":i=e,a=e-(n=this.element[t].x),o=e=>this.updatePoint(e,t);break;case"face":n=this.element.rotation,a=(i=r.shortestAngle(n,Math.atan2(e.y-this.element.y,e.x-this.element.x)))-n,o=t=>this.updateOne(t,"rotation");break;default:i=e,a=e-(n=this.element[t]),o=e=>this.updateOne(e,t)}this.eases.push({entry:t,options:s,update:o,start:n,to:i,delta:a,time:0,wait:s.wait})}static shortestAngle(t,e){const s=2*Math.PI;let n=Math.abs(t-e)%s;var i;return(n=n>Math.PI?s-n:n)*(((e-t+Math.PI)%(i=s)+i)%i-Math.PI>0?1:-1)}remove(t){t="string"==typeof t?[t]:t;for(let e=0;e<this.eases.length;e++)-1!==t.indexOf(this.eases[e].entry)&&(this.eases.splice(e,1),e--)}add(t,e){if(e.removeExisting){const e=["skewX","skewY","skew"],s=["scaleX","scaleY","scale"],n=["position","x","y"];for(let i in t)-1!==e.indexOf(i)?this.remove(e):-1!==s.indexOf(i)?this.remove(s):"position"===i?this.remove(n):"x"===i?this.remove(["x","position"]):"y"===i?this.remove(["y","position"]):this.remove(i)}for(let s in t){const n={ease:e.ease,duration:e.duration,repeat:e.repeat,reverse:e.reverse,wait:e.wait};this.addParam(s,t[s],n)}}updateOne(t,e){this.element[e]=t.options.ease(t.time,t.start,t.delta,t.options.duration)}updatePoint(t,e){this.element[e].x=this.element[e].y=t.options.ease(t.time,t.start,t.delta,t.options.duration)}updatePosition(t){this.element.x=t.options.ease(t.time,t.start.x,t.delta.x,t.options.duration),this.element.y=t.options.ease(t.time,t.start.y,t.delta.y,t.options.duration)}updateCoord(t,e,s,n){this.element[s][n]=t.options.ease(t.time,t.start,t.delta,t.options.duration)}updateTint(t,e,s){const n=Math.floor(t.options.ease(t.time,t.start,t.delta,t.options.duration));this.element.tint=s[n]}updateBlend(t,e,s){const n=t.options.ease(t.time,t.start,t.delta,t.options.duration),i=Math.floor(n);let a=i+1;a===s.length&&(a=t.options.reverse?i-1:t.options.repeat?0:i);const r=n-i,o=s[i],h=s[a],u=1-r,c=u*(o>>16)+r*(h>>16),l=u*(o>>8&255)+r*(h>>8&255),p=u*(255&o)+r*(255&h);this.element.tint=c<<16|l<<8|p}updateShake(t){function e(t){return Math.floor(Math.random()*t)-Math.floor(t/2)}this.element.x=t.start.x+e(t.to),this.element.y=t.start.y+e(t.to)}complete(t){"shake"===t.entry&&(this.element.x=t.start.x,this.element.y=t.start.y)}reverse(t){if("position"===t.entry){const e=t.to.x,s=t.to.y;t.to.x=t.start.x,t.to.y=t.start.y,t.start.x=e,t.start.y=s,t.delta.x=-t.delta.x,t.delta.y=-t.delta.y}else{const e=t.to;t.to=t.start,t.start=e,t.delta=-t.delta}}repeat(t){switch(t.entry){case"skewX":this.element.skew.x=t.start;break;case"skewY":this.element.skew.y=t.start;break;case"skew":this.element.skew.x=t.start,this.element.skew.y=t.start;break;case"scaleX":this.element.scale.x=t.start;break;case"scaleY":this.element.scale.y=t.start;break;case"scale":this.element.scale.x=t.start,this.element.scale.y=t.start;break;case"position":this.element.x=t.start.x,this.element.y=t.start.y;break;default:this.element[t.entry]=t.start}}update(t){if(this.element._destroyed)return delete this.element[this.key],this.connected=!1,!0;if(this.eases.length){for(let e=0;e<this.eases.length;e++){let s=t;const n=this.eases[e];if(n.wait){if(n.wait-=t,!(n.wait<=0)){this.emit(`wait-${n.entry}`,{element:this.element,wait:n.wait});continue}s+=n.wait,n.wait=0,this.emit(`wait-end-${n.entry}`,n.element)}const i=n.options.duration;let a=0;if(n.time+s>i?(a=n.time+s-i,n.time=i):n.time+=s,n.update(n),n.time>=n.options.duration){const t=n.options;t.reverse?(this.reverse(n),n.time=a,a&&n.update(n),this.emit(`reverse-${n.entry}`,n.element),t.repeat?!0!==t.repeat&&t.repeat--:t.reverse=!1):t.repeat?(this.repeat(n),n.time=a,a&&n.update(n),!0!==t.repeat&&t.repeat--,this.emit(`repeat-${n.entry}`,n.element)):(this.complete(n),this.eases.splice(e,1),e--,this.emit(`complete-${n.entry}`,this.element))}this.emit(`each-${n.entry}`,{element:this.element,time:n.time})}if(this.emit("each",this),0===this.eases.length&&(this.emit("complete",this),0===this.eases.length))return this.connected=!1,!0}}get count(){return this.eases.length}}const o={duration:1e3,ease:i.easeInOutSine,useTicker:!0,maxFrame:1e3/60};class h extends a{constructor(t){if(super(),this.options=Object.assign({},o,t),this.list=[],this.waitRemoveEase=[],this.waitRemoveAllEases=[],this.empty=!0,!0===this.options.useTicker){if(this.options.ticker)this.ticker=this.options.ticker;else{const t=e;parseInt(/^(\d+)\./.exec(e.VERSION)[1])<5?this.ticker=t.ticker.shared:this.ticker=t.Ticker.shared}this.ticker.add(this.update,this)}this.key=`__ease_${h.id++}`}destroy(){this.removeAll(!0),!0===this.options.useTicker&&this.ticker.remove(this.update,this)}add(t,e,s){if(Array.isArray(t)){const n=[];for(let i=0;i<t.length;i++)t.length,n.push(this.add(t[i],e,s));return n}(s=s||{}).duration=void 0!==s.duration?s.duration:this.options.duration,s.ease=s.ease||this.options.ease,"string"==typeof s.ease&&(s.ease=i[s.ease]);let n=t[this.key];return n?n.connected||this.list.push(t[this.key]):(n=t[this.key]=new r(t,this),this.list.push(n)),n.add(e,s),this.empty=!1,n}target(t,e,s,n){const i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))/s;return(n=n||{}).duration=i,this.add(t,{x:e.x,y:e.y},n)}face(t,e,s,n){const i=r.shortestAngle(t.rotation,Math.atan2(e.y-t.y,e.x-t.x)),a=Math.abs(i-t.rotation)/s;return(n=n||{}).duration=a,this.add(t,{rotation:i},n)}removeAllEases(t){t[this.key]&&(this.list.splice(this.list.indexOf(t[this.key]),1),t[this.key].clear())}removeEase(t,e){const s=t[this.key];s&&(Array.isArray(e)?e.forEach(t=>s.remove(t)):s.remove(e))}removeAll(){for(;this.list.length;){const t=this.list.pop();t.element[this.key]&&t.element[this.key].clear()}}update(){if(!this.empty){const t=Math.max(this.ticker.elapsedMS,this.options.maxFrame);for(let e=0;e<this.list.length;e++)this.list[e].update(t)&&(this.list.splice(e,1),e--);this.emit("each",this),0===this.list.length&&(this.empty=!0,this.emit("complete",this))}}countElements(){return this.list.length}countRunning(){let t=0;for(let e of this.list)t+=e.count;return t}set duration(t){this.options.duration=t}get duration(){return this.options.duration}set ease(t){this.options.ease=t}get ease(){return this.options.ease}}h.id=0;let u=new h;h.ease=u;t.Ease=h,t.List=class{constructor(){console.warn("Ease.List was deprecated. Use new Ease() instead.")}},t.ease=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ease.js.map
